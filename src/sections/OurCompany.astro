---
import type { Section } from "@/interfaces/section.interface";
import SectionLayout from "@/layouts/SectionLayout.astro";

interface Props {
  section: Section;
}

const { section } = Astro.props as Props;
---

<SectionLayout
    aria-labelledby="our-company-title"
>
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
    <!-- Texto -->
    <article class="space-y-6 animate-fadeInUp">
      <header>
        <h2 class="title text-secondary! mb-4">{section.title}</h2>
      </header>

      <p class="description text-gray-700!">
        {section.description}
      </p>

      {
        section.section_items?.map((item) => (
          <section
            class="space-y-2"
            aria-labelledby={`advantage-${item.id_section_item}`}
          >
            <header id={`advantage-${item.id_section_item}`}>
              <div class="flex items-center space-x-2 text-secondary font-semibold text-lg">
                <span class="text-2xl">»</span>
                <h3 class="uppercase font-bold">{item.title}</h3>
                <span class="text-2xl">«</span>
              </div>
            </header>

            <div>
              <h4 class="text-xl font-bold text-gray-800">{item.subtitle}</h4>
              <p class="text-gray-700 mt-2 leading-relaxed">
                {item.description}
              </p>
            </div>
          </section>
        ))
      }
    </article>

    <!-- Imagen -->
    <figure class="relative group rounded-2xl overflow-hidden shadow-xl hover:shadow-2xl transition-shadow duration-700 animate-fadeInUp">
      <img
        src={section.image}
        alt={section.title}
        class="w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700 ease-out"
      />

      <figcaption class="float-slogan">
        <p>{section.subtitle}</p>
      </figcaption>
    </figure>
  </div>
</SectionLayout>

<style>
  .float-slogan {
    position: absolute;
    /* top: 25px; */
    bottom: 30px;
    left: 50%;
    text-align: center;
    transform: translateX(-50%);
    font-size: 2rem;
    font-weight: 800;
    color: #ffffff;
    text-shadow: 0 4px 12px rgba(0, 0, 0, 0.6);
    letter-spacing: 1px;
    text-transform: uppercase;
    opacity: 0;
    animation:
      fadeSlideIn 1.2s ease forwards,
      glowPulse 3s ease-in-out infinite;
  }

  .float-slogan::after {
    content: "";
    display: block;
    width: 0;
    height: 3px;
    background: #ffffff;
    margin: 10px auto 0;
    border-radius: 3px;
    animation: lineGrow 1.3s ease forwards 0.8s;
  }

  @keyframes fadeSlideIn {
    0% {
      opacity: 0;
      transform: translateX(-50%) translateY(-12px);
    }
    100% {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }
  }

  /* Brillo sutil */
  @keyframes glowPulse {
    0%,
    100% {
      text-shadow:
        0 4px 12px rgba(0, 0, 0, 0.6),
        0 0 0px rgba(255, 255, 255, 0);
    }
    50% {
      text-shadow:
        0 4px 12px rgba(0, 0, 0, 0.6),
        0 0 12px rgba(255, 255, 255, 0.7);
    }
  }

  /* Línea se va extendiendo */
  @keyframes lineGrow {
    0% {
      width: 0;
    }
    100% {
      width: 120px;
    }
  }
</style>
